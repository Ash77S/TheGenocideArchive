{"ast":null,"code":"import React,{useState,useEffect}from'react';import'./App.css';import{SocialMediaEmbed}from'react-social-media-embed';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const App=()=>{const API_URL='/api/records';// Backend endpoint for fetching records\nconst[timelineData,setTimelineData]=useState([]);const[loading,setLoading]=useState(false);const[error,setError]=useState('');const[offset,setOffset]=useState(null);// Fetch data from the backend\nconst fetchRecords=async()=>{try{setLoading(true);setError('');const response=await fetch(`${API_URL}${offset?`?offset=${offset}`:''}`);if(!response.ok){throw new Error(`Error fetching records: ${response.status}`);}const data=await response.json();setTimelineData(prev=>[...prev,...data.records]);setOffset(data.offset||null);// Update offset for pagination\n}catch(err){console.error(err);setError('Failed to fetch records.');}finally{setLoading(false);}};// Fetch records on component mount\nuseEffect(()=>{fetchRecords();},[]);return/*#__PURE__*/_jsxs(\"div\",{className:\"App\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Genocide Archive Timeline\"}),/*#__PURE__*/_jsx(\"div\",{className:\"timeline\",children:timelineData.length>0?timelineData.map((record,index)=>/*#__PURE__*/_jsxs(\"div\",{className:\"timeline-item\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"date\",children:record.fields.date?`Date: ${record.fields.date}`:'Date: Not provided'}),/*#__PURE__*/_jsx(\"h3\",{children:record.fields.description||'No description available.'}),record.fields.source_1&&/*#__PURE__*/_jsx(SocialMediaEmbed,{url:record.fields.source_1,width:500,height:300})]},index)):/*#__PURE__*/_jsx(\"p\",{children:\"No data available.\"})}),loading&&/*#__PURE__*/_jsx(\"p\",{children:\"Loading...\"}),error&&/*#__PURE__*/_jsx(\"p\",{className:\"error\",children:error}),offset&&/*#__PURE__*/_jsx(\"button\",{className:\"load-more\",onClick:fetchRecords,children:\"Load More\"})]});};export default App;","map":{"version":3,"names":["React","useState","useEffect","SocialMediaEmbed","jsx","_jsx","jsxs","_jsxs","App","API_URL","timelineData","setTimelineData","loading","setLoading","error","setError","offset","setOffset","fetchRecords","response","fetch","ok","Error","status","data","json","prev","records","err","console","className","children","length","map","record","index","fields","date","description","source_1","url","width","height","onClick"],"sources":["/Users/mac/Documents/GitHub/TheGenocideArchive/client/src/App.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport './App.css';\nimport { SocialMediaEmbed } from 'react-social-media-embed';\n\nconst App = () => {\n  const API_URL = '/api/records'; // Backend endpoint for fetching records\n\n  const [timelineData, setTimelineData] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState('');\n  const [offset, setOffset] = useState(null);\n\n  // Fetch data from the backend\n  const fetchRecords = async () => {\n    try {\n      setLoading(true);\n      setError('');\n      const response = await fetch(`${API_URL}${offset ? `?offset=${offset}` : ''}`);\n      if (!response.ok) {\n        throw new Error(`Error fetching records: ${response.status}`);\n      }\n      const data = await response.json();\n      setTimelineData((prev) => [...prev, ...data.records]);\n      setOffset(data.offset || null); // Update offset for pagination\n    } catch (err) {\n      console.error(err);\n      setError('Failed to fetch records.');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  // Fetch records on component mount\n  useEffect(() => {\n    fetchRecords();\n  }, []);\n\n  return (\n    <div className=\"App\">\n      <h1>Genocide Archive Timeline</h1>\n      <div className=\"timeline\">\n        {timelineData.length > 0 ? (\n          timelineData.map((record, index) => (\n            <div key={index} className=\"timeline-item\">\n              <div className=\"date\">\n                {record.fields.date ? `Date: ${record.fields.date}` : 'Date: Not provided'}\n              </div>\n              <h3>{record.fields.description || 'No description available.'}</h3>\n              {record.fields.source_1 && (\n                <SocialMediaEmbed url={record.fields.source_1} width={500} height={300} />\n              )}\n            </div>\n          ))\n        ) : (\n          <p>No data available.</p>\n        )}\n      </div>\n      {loading && <p>Loading...</p>}\n      {error && <p className=\"error\">{error}</p>}\n      {offset && (\n        <button className=\"load-more\" onClick={fetchRecords}>\n          Load More\n        </button>\n      )}\n    </div>\n  );\n};\n\nexport default App;\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAClD,MAAO,WAAW,CAClB,OAASC,gBAAgB,KAAQ,0BAA0B,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAE5D,KAAM,CAAAC,GAAG,CAAGA,CAAA,GAAM,CAChB,KAAM,CAAAC,OAAO,CAAG,cAAc,CAAE;AAEhC,KAAM,CAACC,YAAY,CAAEC,eAAe,CAAC,CAAGV,QAAQ,CAAC,EAAE,CAAC,CACpD,KAAM,CAACW,OAAO,CAAEC,UAAU,CAAC,CAAGZ,QAAQ,CAAC,KAAK,CAAC,CAC7C,KAAM,CAACa,KAAK,CAAEC,QAAQ,CAAC,CAAGd,QAAQ,CAAC,EAAE,CAAC,CACtC,KAAM,CAACe,MAAM,CAAEC,SAAS,CAAC,CAAGhB,QAAQ,CAAC,IAAI,CAAC,CAE1C;AACA,KAAM,CAAAiB,YAAY,CAAG,KAAAA,CAAA,GAAY,CAC/B,GAAI,CACFL,UAAU,CAAC,IAAI,CAAC,CAChBE,QAAQ,CAAC,EAAE,CAAC,CACZ,KAAM,CAAAI,QAAQ,CAAG,KAAM,CAAAC,KAAK,CAAC,GAAGX,OAAO,GAAGO,MAAM,CAAG,WAAWA,MAAM,EAAE,CAAG,EAAE,EAAE,CAAC,CAC9E,GAAI,CAACG,QAAQ,CAACE,EAAE,CAAE,CAChB,KAAM,IAAI,CAAAC,KAAK,CAAC,2BAA2BH,QAAQ,CAACI,MAAM,EAAE,CAAC,CAC/D,CACA,KAAM,CAAAC,IAAI,CAAG,KAAM,CAAAL,QAAQ,CAACM,IAAI,CAAC,CAAC,CAClCd,eAAe,CAAEe,IAAI,EAAK,CAAC,GAAGA,IAAI,CAAE,GAAGF,IAAI,CAACG,OAAO,CAAC,CAAC,CACrDV,SAAS,CAACO,IAAI,CAACR,MAAM,EAAI,IAAI,CAAC,CAAE;AAClC,CAAE,MAAOY,GAAG,CAAE,CACZC,OAAO,CAACf,KAAK,CAACc,GAAG,CAAC,CAClBb,QAAQ,CAAC,0BAA0B,CAAC,CACtC,CAAC,OAAS,CACRF,UAAU,CAAC,KAAK,CAAC,CACnB,CACF,CAAC,CAED;AACAX,SAAS,CAAC,IAAM,CACdgB,YAAY,CAAC,CAAC,CAChB,CAAC,CAAE,EAAE,CAAC,CAEN,mBACEX,KAAA,QAAKuB,SAAS,CAAC,KAAK,CAAAC,QAAA,eAClB1B,IAAA,OAAA0B,QAAA,CAAI,2BAAyB,CAAI,CAAC,cAClC1B,IAAA,QAAKyB,SAAS,CAAC,UAAU,CAAAC,QAAA,CACtBrB,YAAY,CAACsB,MAAM,CAAG,CAAC,CACtBtB,YAAY,CAACuB,GAAG,CAAC,CAACC,MAAM,CAAEC,KAAK,gBAC7B5B,KAAA,QAAiBuB,SAAS,CAAC,eAAe,CAAAC,QAAA,eACxC1B,IAAA,QAAKyB,SAAS,CAAC,MAAM,CAAAC,QAAA,CAClBG,MAAM,CAACE,MAAM,CAACC,IAAI,CAAG,SAASH,MAAM,CAACE,MAAM,CAACC,IAAI,EAAE,CAAG,oBAAoB,CACvE,CAAC,cACNhC,IAAA,OAAA0B,QAAA,CAAKG,MAAM,CAACE,MAAM,CAACE,WAAW,EAAI,2BAA2B,CAAK,CAAC,CAClEJ,MAAM,CAACE,MAAM,CAACG,QAAQ,eACrBlC,IAAA,CAACF,gBAAgB,EAACqC,GAAG,CAAEN,MAAM,CAACE,MAAM,CAACG,QAAS,CAACE,KAAK,CAAE,GAAI,CAACC,MAAM,CAAE,GAAI,CAAE,CAC1E,GAPOP,KAQL,CACN,CAAC,cAEF9B,IAAA,MAAA0B,QAAA,CAAG,oBAAkB,CAAG,CACzB,CACE,CAAC,CACLnB,OAAO,eAAIP,IAAA,MAAA0B,QAAA,CAAG,YAAU,CAAG,CAAC,CAC5BjB,KAAK,eAAIT,IAAA,MAAGyB,SAAS,CAAC,OAAO,CAAAC,QAAA,CAAEjB,KAAK,CAAI,CAAC,CACzCE,MAAM,eACLX,IAAA,WAAQyB,SAAS,CAAC,WAAW,CAACa,OAAO,CAAEzB,YAAa,CAAAa,QAAA,CAAC,WAErD,CAAQ,CACT,EACE,CAAC,CAEV,CAAC,CAED,cAAe,CAAAvB,GAAG","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}